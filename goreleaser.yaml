# GoReleaser configuration

archives:
  - 
    format: zip

builds:
  - binary: hello
    id: hello
    main: ./cmd/server/main.go
    env:
      - CGO_ENABLED=0
    goos:
      - linux
      - windows
    goarch:
      - amd64
      - 386
      - arm64
  - binary: hello
    id: hello-macos
    main: ./cmd/server/main.go
    env:
      - CGO_ENABLED=0
    goos:
      - darwin
    goarch:
      - amd64
      - arm64

signs:
  - signature: "${artifact}.zip"
    ids:
    - hello-mac-universal # here we filter the macos only build id
    # you'll need to have gon on PATH
    cmd: gon
    # you can follow the gon docs to properly create the gon.hcl config file:
    # https://github.com/mitchellh/gon
    args:
    - gon.json
    artifacts: all

